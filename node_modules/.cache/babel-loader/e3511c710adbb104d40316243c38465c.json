{"ast":null,"code":"var _jsxFileName = \"/Users/chosun/Project/demo1/front-end/src/app/pages/auth/LoginForm.js\";\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { withRouter } from 'react-router-dom';\nimport { changeField, initializeForm, login } from '../../modules/auth';\nimport AuthForm from \"./AuthForm\";\nimport { check } from '../../modules/user';\n\nvar LoginForm = function LoginForm(_ref) {\n  var history = _ref.history;\n  var dispatch = useDispatch();\n\n  var _useSelector = useSelector(function (_ref2) {\n    var auth = _ref2.auth,\n        user = _ref2.user;\n    return {\n      form: auth.login,\n      auth: auth.auth,\n      authError: auth.authError,\n      user: user.user\n    };\n  }),\n      form = _useSelector.form,\n      auth = _useSelector.auth,\n      authError = _useSelector.authError,\n      user = _useSelector.user;\n\n  var onChange = function onChange(e) {\n    var _e$target = e.target,\n        value = _e$target.value,\n        name = _e$target.name;\n    dispatch(changeField({\n      form: 'login',\n      key: name,\n      value: value\n    }));\n  };\n\n  var onSubmit = function onSubmit(e) {\n    e.preventDefault(); //구현 예정\n\n    var username = form.username,\n        password = form.password;\n    dispatch(login({\n      username: username,\n      password: password\n    }));\n  };\n\n  useEffect(function () {\n    dispatch(initializeForm('login'));\n  }, [dispatch]);\n  useEffect(function () {\n    if (authError) {\n      console.log('에러 발생');\n      console.log(authError);\n      return;\n    }\n\n    if (auth) {\n      console.log('로그인 성공');\n      console.log(auth);\n      dispatch(check());\n      history.push('/main');\n    }\n  }, [auth, authError, dispatch, history]);\n  useEffect(function () {\n    if (user) {\n      console.log('check API 성공');\n      console.log(user);\n    }\n  }, [user]);\n  return React.createElement(AuthForm, {\n    type: \"login\",\n    form: form,\n    onChange: onChange,\n    onSubmit: onSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  });\n};\n\nexport default withRouter(LoginForm);","map":{"version":3,"sources":["/Users/chosun/Project/demo1/front-end/src/app/pages/auth/LoginForm.js"],"names":["React","useEffect","useDispatch","useSelector","withRouter","changeField","initializeForm","login","AuthForm","check","LoginForm","history","dispatch","auth","user","form","authError","onChange","e","target","value","name","key","onSubmit","preventDefault","username","password","console","log","push"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAAQC,WAAR,EAAoBC,WAApB,QAAsC,aAAtC;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AACA,SAAQC,WAAR,EAAqBC,cAArB,EAAqCC,KAArC,QAAiD,oBAAjD;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,SAAQC,KAAR,QAAoB,oBAApB;;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAAY,OAAe;AAAA,MAAbC,OAAa,QAAbA,OAAa;AAC7B,MAAMC,QAAQ,GAAGV,WAAW,EAA5B;;AAD6B,qBAEOC,WAAW,CAAC;AAAA,QAAEU,IAAF,SAAEA,IAAF;AAAA,QAAOC,IAAP,SAAOA,IAAP;AAAA,WAAiB;AACzDC,MAAAA,IAAI,EAACF,IAAI,CAACN,KAD+C;AAEzDM,MAAAA,IAAI,EAACA,IAAI,CAACA,IAF+C;AAGzDG,MAAAA,SAAS,EAAEH,IAAI,CAACG,SAHyC;AAIzDF,MAAAA,IAAI,EAAEA,IAAI,CAACA;AAJ8C,KAAjB;AAAA,GAAD,CAFlB;AAAA,MAEtBC,IAFsB,gBAEtBA,IAFsB;AAAA,MAEhBF,IAFgB,gBAEhBA,IAFgB;AAAA,MAEXG,SAFW,gBAEXA,SAFW;AAAA,MAEDF,IAFC,gBAEDA,IAFC;;AAS7B,MAAMG,QAAQ,GAAG,SAAXA,QAAW,CAAAC,CAAC,EAAI;AAAA,oBACGA,CAAC,CAACC,MADL;AAAA,QACXC,KADW,aACXA,KADW;AAAA,QACLC,IADK,aACLA,IADK;AAElBT,IAAAA,QAAQ,CACJP,WAAW,CAAC;AACRU,MAAAA,IAAI,EAAC,OADG;AAERO,MAAAA,GAAG,EAAED,IAFG;AAGRD,MAAAA,KAAK,EAALA;AAHQ,KAAD,CADP,CAAR;AAOH,GATD;;AAWA,MAAMG,QAAQ,GAAG,SAAXA,QAAW,CAAAL,CAAC,EAAI;AAClBA,IAAAA,CAAC,CAACM,cAAF,GADkB,CAElB;;AAFkB,QAGXC,QAHW,GAGSV,IAHT,CAGXU,QAHW;AAAA,QAGFC,QAHE,GAGSX,IAHT,CAGFW,QAHE;AAIlBd,IAAAA,QAAQ,CAACL,KAAK,CAAC;AAAEkB,MAAAA,QAAQ,EAARA,QAAF;AAAWC,MAAAA,QAAQ,EAARA;AAAX,KAAD,CAAN,CAAR;AACH,GALD;;AAOAzB,EAAAA,SAAS,CAAC,YAAM;AACZW,IAAAA,QAAQ,CAACN,cAAc,CAAC,OAAD,CAAf,CAAR;AACH,GAFQ,EAEN,CAACM,QAAD,CAFM,CAAT;AAIAX,EAAAA,SAAS,CAAC,YAAM;AACZ,QAAGe,SAAH,EAAc;AACVW,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYZ,SAAZ;AACA;AACH;;AACD,QAAGH,IAAH,EAAQ;AACJc,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYf,IAAZ;AACAD,MAAAA,QAAQ,CAACH,KAAK,EAAN,CAAR;AACAE,MAAAA,OAAO,CAACkB,IAAR,CAAa,OAAb;AACH;AACJ,GAZQ,EAYN,CAAChB,IAAD,EAAMG,SAAN,EAAgBJ,QAAhB,EAAyBD,OAAzB,CAZM,CAAT;AAcAV,EAAAA,SAAS,CAAC,YAAM;AACZ,QAAGa,IAAH,EAAS;AACLa,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYd,IAAZ;AACH;AACJ,GALQ,EAKP,CAACA,IAAD,CALO,CAAT;AAOA,SACI,oBAAC,QAAD;AACI,IAAA,IAAI,EAAC,OADT;AAEI,IAAA,IAAI,EAAEC,IAFV;AAGI,IAAA,QAAQ,EAAEE,QAHd;AAII,IAAA,QAAQ,EAAEM,QAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ;AAQH,CA5DD;;AA8DA,eAAenB,UAAU,CAACM,SAAD,CAAzB","sourcesContent":["import React ,{ useEffect } from \"react\";\nimport {useDispatch,useSelector} from \"react-redux\";\nimport {withRouter} from 'react-router-dom';\nimport {changeField, initializeForm, login} from '../../modules/auth';\nimport AuthForm from \"./AuthForm\";\nimport {check} from '../../modules/user';\n\nconst LoginForm = ({history}) => {\n    const dispatch = useDispatch();\n    const {form, auth,authError,user} = useSelector(({auth,user})=> ({\n            form:auth.login,\n            auth:auth.auth,\n            authError: auth.authError,\n            user: user.user\n    }));\n\n    const onChange = e => {\n        const {value,name} = e.target;\n        dispatch(\n            changeField({\n                form:'login',\n                key: name ,\n                value\n            })\n        ); \n    };\n\n    const onSubmit = e => {\n        e.preventDefault();\n        //구현 예정\n        const {username,password} =form;\n        dispatch(login({ username,password}));\n    }\n\n    useEffect(() => {\n        dispatch(initializeForm('login'));\n    }, [dispatch]);\n\n    useEffect(() => {\n        if(authError) {\n            console.log('에러 발생');\n            console.log(authError);\n            return;\n        }\n        if(auth){\n            console.log('로그인 성공');\n            console.log(auth);\n            dispatch(check());\n            history.push('/main');\n        }\n    }, [auth,authError,dispatch,history]);\n\n    useEffect(() => {\n        if(user) {\n            console.log('check API 성공');\n            console.log(user);\n        }\n    },[user]);\n\n    return (\n        <AuthForm\n            type=\"login\"\n            form={form}\n            onChange={onChange}\n            onSubmit={onSubmit}\n        />\n    );\n};\n\nexport default withRouter(LoginForm);"]},"metadata":{},"sourceType":"module"}